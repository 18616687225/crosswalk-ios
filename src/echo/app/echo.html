<html>
<head>
    <title></title>
    <meta name = "viewport" content = "width = device-width">
</head>
<body>
    <p>This is the echo demo</p>
    <p id="content" style="font-size: 20px;"/>
    <script>

    var resolve = function() {
        echo.prefix = 'Echo from native: ';
        echo.echo('Hello World!', function(msg) {
                document.title = 'Pass';
                document.getElementById('content').innerHTML = msg;
        })
    }
    var reject = function() {
        document.title = 'Fail';
        document.getElementById('content').innerHTML = 'Fail';
    }
    if (typeof(echo) === 'object') {
        // EchoExtension has loaded
        resolve();
    } else if (typeof(Extension) === 'function' && Extension["loader"]) {
        // Load now
        Extension.loader.load('xwalk.sample.echo', 'echo', 'Native: ').then(resolve, reject);
    } else {
        reject();
    }
    </script>
</body>
</html>
